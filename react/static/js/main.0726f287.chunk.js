(this["webpackJsonpportfolio-react"]=this["webpackJsonpportfolio-react"]||[]).push([[0],{184:function(e,t,a){e.exports=a(296)},189:function(e,t,a){},197:function(e,t){},199:function(e,t){},237:function(e,t){},238:function(e,t){},296:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),l=a.n(o),c=(a(189),a(16)),i=a(43),u=a(6),s={uriBase:"",authRoute:"/api/v1/auth",projectsRoute:"/api/v1/projects",usersRoute:"/api/v1/users",textsRoute:"/api/v1/texts",messagesRoute:"/api/v1/messages"},m=[{_id:0,title:"Task Manager",text:"I've created a simple task app and added Google signin using OAuth2. The front end is created in React.js and the backend is run on Node.js with a MongoDB database. The sight utilized authentication and authorization.",liveLink:"https://sn-todo.herokuapp.com",gitHubLinks:["https://github.com/spencerNelson-dev/to-do-ui","https://github.com/spencerNelson-dev/to-do-api"],imgSrc:"task-tracker.png"}],d=function(){return fetch("".concat(s.uriBase).concat(s.projectsRoute),{method:"GET"}).then((function(e){if(!e.ok)throw new Error("Could not get all projects");return e.json()})).then((function(e){return e===[]?m:e})).catch((function(e){return console.log(e),m}))},f=r.a.createContext(),h=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)([]),i=Object(u.a)(c,2),m=i[0],h=i[1],p=Object(n.useState)([]),E=Object(u.a)(p,2),g=E[0],v=E[1];return Object(n.useEffect)((function(){0===o.length&&d().then((function(e){l(e)})),0===m.length&&fetch("".concat(s.uriBase).concat(s.projectsRoute,"/img"),{method:"Get"}).then((function(e){if(!e.ok)throw new Error("Could not get image file names");return e.json()})).then((function(e){h(e)})).catch((function(e){console.log(e),h([])})),0===g.length&&fetch("".concat(s.uriBase).concat(s.textsRoute),{method:"GET"}).then((function(e){if(!e.ok)throw new Error("Failed to fetch texts.");return e.json()})).then((function(e){v(e)})).catch((function(e){console.log(e),h([])}))}),[m.length,o.length,g.length]),r.a.createElement(f.Provider,{value:{projects:o,setProjects:l,images:m,setImages:h,texts:g,setTexts:v}},e.children)},p=(f.Consumer,a(338)),E=a(342),g=a(345),v=a(343),b=a(344),j=a(346),y=a(85),O=function(e){var t=Object(n.useContext)(f).texts;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(p.a,{container:!0,spacing:5,justify:"center"},r.a.createElement(p.a,{item:!0,xs:10},r.a.createElement(E.a,{raised:!0},r.a.createElement(v.a,null,r.a.createElement(b.a,{component:"img",alt:"Hot air balloons",height:"140",image:"".concat(s.uriBase,"/public/images/about.jpg"),title:"Who is Spencer Nelson"}),r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Spencer Nelson"),r.a.createElement(y.a,{variant:"body2",color:"textPrimary",component:"p"},function(e){var a="",n=!0,r=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var i=l.value;i.location===e&&(a=i.text)}}catch(u){r=!0,o=u}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}("MainPage-Introduction"))),r.a.createElement(g.a,null,r.a.createElement(j.a,{size:"small",color:"primary",component:c.b,to:"/about"},"More About Me")))))))},x=a(27),k=a(347),C=a(80),w=a.n(C),S=r.a.createContext(),T=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(""),i=Object(u.a)(c,2),s=i[0],m=i[1];return Object(n.useEffect)((function(){var e=window.localStorage.getItem("token");if(e){var t=w.a.decode(e);Date.now().valueOf()/1e3>=t.exp?(alert("You have been logged out due to inactivity."),l(!1),window.localStorage.removeItem("token")):(m(e),l(!0))}}),[]),r.a.createElement(S.Provider,{value:{loggedIn:o,setLoggedIn:l,token:s,writeToken:function(e){window.localStorage.setItem("token",e),m(e),l(!0)}}},e.children)},B=S.Consumer,L=Object(k.a)({root:{maxWidth:345,minWidth:345,margin:16,display:"flex",flexDirection:"column",justifyContent:"space-between"},media:{height:140}});var P=function(e){var t=L(),a=Object(n.useContext)(S),o=a.loggedIn,l=a.token,c=Object(n.useState)(e.card._id),i=Object(u.a)(c,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{className:t.root,raised:!0},r.a.createElement(b.a,{className:t.media,image:"".concat(s.uriBase,"/public/images/").concat(e.card.imgSrc),title:e.card.imgSrc,id:e.card.imgSrc}),r.a.createElement(v.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.card.title),r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p"},e.card.text)),r.a.createElement(g.a,null,""!==e.card.liveLink?r.a.createElement(j.a,{href:e.card.liveLink,target:"_blank",size:"small",color:"primary"},"Live Site"):null,e.card.gitHubLinks!==[]?e.card.gitHubLinks.map((function(e,t){return r.a.createElement(j.a,{target:"_blank",key:e,href:e,color:"primary"},"GitHub ".concat(t+1))})):null,o?r.a.createElement(j.a,{id:e.card.title.split(" ")[0]+"Delete",onClick:function(){fetch("".concat(s.uriBase).concat(s.projectsRoute,"/").concat(e.card._id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Could not delete object");return e.json()})).then((function(t){if(1===t.deletedCount){var a,n=Object(x.a)(e.projects),r=!0,o=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var s=c.value;s._id===i&&(a=n.indexOf(s))}}catch(m){o=!0,l=m}finally{try{r||null==u.return||u.return()}finally{if(o)throw l}}n.splice(a,1),e.setProjects(n)}else alert("Not Authorized")})).catch((function(e){console.log(e)}))},color:"secondary"},"Delete"):null)))};function N(e){var t=Object(n.useContext)(f),a=t.projects,o=t.setProjects;return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement(p.a,{container:!0,spacing:3},r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(p.a,{container:!0,justify:"center",spacing:3,alignItems:"stretch"},function(e,t){for(var a=[],n=0;n<e.length&&n<3;n++)a.push(e[n]);return a}(a).map((function(e){return r.a.createElement(p.a,{key:e._id,item:!0,component:function(){return r.a.createElement(P,{key:e._id,card:e,projects:a,setProjects:o})}})}))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(j.a,{variant:"contained",color:"secondary",component:c.b,to:"/portfolio"},"View All Projects")))}var I=function(e){var t=Object(n.useContext)(f),a=t.projects,o=t.setProjects;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.a,{container:!0,spacing:3},r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(p.a,{container:!0,justify:"center",spacing:3},a.map((function(e){return r.a.createElement(p.a,{key:e._id,item:!0,component:function(){return r.a.createElement(P,{key:e._id,card:e,setProjects:o,projects:a})}})}))))),r.a.createElement("br",null),r.a.createElement("br",null))},_=a(175);var A=function(e){var t=Object(n.useContext)(f).texts,a=Object(n.useState)([]),o=Object(u.a)(a,2),l=o[0],c=o[1],i=Object(n.useState)([]),m=Object(u.a)(i,2),d=m[0],h=m[1],g=function(e,a){if(t.length>0&&0===l.length){var n="",r=!0,o=!1,c=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var s=i.value;s.location===e&&(n=s.text)}}catch(d){o=!0,c=d}finally{try{r||null==u.return||u.return()}finally{if(o)throw c}}var m=n.split("\n\n");m.length>1&&a(m)}};return g("About-Introduction",c),g("About-Mission",h),r.a.createElement("div",null,r.a.createElement(p.a,{container:!0},r.a.createElement(p.a,{item:!0,xs:12,style:{margin:"1% 15%"}},r.a.createElement(_.a,{elevation:6},r.a.createElement(E.a,null,r.a.createElement(b.a,{component:"img",alt:"Hot air balloons",height:"140",image:"".concat(s.uriBase,"/public/images/about.jpg"),title:"Who is Spencer Nelson"}),r.a.createElement(v.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Introduction"),l.map((function(e){return r.a.createElement(y.a,{style:{margin:10},key:e,variant:"body2",color:"textPrimary",component:"p"},e)})),r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Mission"),d.map((function(e){return r.a.createElement(y.a,{style:{margin:10},key:e,variant:"body2",color:"textPrimary",component:"p"},e)})),r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Resume"),r.a.createElement("a",{href:"".concat(s.uriBase,"/resume")},"Resume")))))))},R=a(360);var z=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(""),i=Object(u.a)(c,2),m=i[0],d=i[1],h=Object(n.useState)(""),p=Object(u.a)(h,2),E=p[0],g=p[1],v=Object(n.useContext)(f).texts,b=function(){l(""),d(""),g("")};return r.a.createElement("div",null,r.a.createElement(_.a,{elevation:3,style:{padding:16,margin:16}},function(e){var t="",a=!0,n=!1,r=void 0;try{for(var o,l=v[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var c=o.value;c.location===e&&(t=c.text)}}catch(i){n=!0,r=i}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}return t}("ContactMe")),r.a.createElement(_.a,{elevation:3,style:{padding:16,margin:16}},r.a.createElement("div",null,r.a.createElement(R.a,{required:!0,label:"Name",value:o,onChange:function(e){return l(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(R.a,{required:!0,label:"Email",value:m,onChange:function(e){return d(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(R.a,{required:!0,multiline:!0,label:"Message",fullWidth:!0,value:E,onChange:function(e){return g(e.target.value)}})),r.a.createElement("br",null),r.a.createElement(j.a,{variant:"contained",color:"primary",onClick:function(){""!==o&&""!==m&&""!==E||alert("Please fill out name, email and message");null===m.match(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g)&&alert("Please enter a valid email");var e=new Date,t={name:o,email:m,message:E,date:e,app:"Portfolio"};fetch("".concat(s.uriBase).concat(s.messagesRoute),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.ok||alert("Message failed to send"),e.json()})).then((function(e){alert("Message sent!"),b()})),console.log(t)}},"Send Message"),r.a.createElement(j.a,{variant:"contained",color:"secondary",style:{float:"right"},onClick:b},"Clear")),r.a.createElement("br",null),r.a.createElement("br",null))},H=a(350),M=a(351),W=a(165),D=a.n(W),F=a(166),G=a.n(F),q=Object(k.a)({root:{width:500}});var J=function(e){var t=q();return r.a.createElement("div",null,r.a.createElement(H.a,{showLabels:!0,className:t.root},r.a.createElement(M.a,{component:c.b,to:"/login",label:"Spencer Nelson",icon:r.a.createElement(D.a,null)}),r.a.createElement(M.a,{href:"https://templateflip.com/",target:"_blank",rel:"noopener noreferrer",label:"templateflip.com",icon:r.a.createElement(G.a,null)})))},U=a(352),$=a(353),V=a(354),Y=a(171),K=a.n(Y),Q=a(362),X=a(349),Z=a(297),ee=a(355),te=a(356),ae=a(167),ne=a.n(ae),re=a(169),oe=a.n(re),le=a(170),ce=a.n(le),ie=a(168),ue=a.n(ie),se=Object(k.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},list:{width:250},fullList:{width:"auto"}}}));var me=function(e){var t=se(),a=Object(n.useState)(!1),o=Object(u.a)(a,2),l=o[0],i=o[1],s=Object(n.useContext)(S),m=s.loggedIn,d=s.setLoggedIn,f=function(){i(!l)};return r.a.createElement("div",null,r.a.createElement("div",{className:t.root},r.a.createElement(U.a,{position:"fixed"},r.a.createElement($.a,null,r.a.createElement(V.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:f},r.a.createElement(K.a,null)),r.a.createElement(y.a,{variant:"h6",className:t.title},"Spencer Nelson ",m?r.a.createElement(c.b,{id:"admin",to:"/admin"},"Admin"):null,m?r.a.createElement(j.a,{id:"logout",onClick:function(){window.localStorage.removeItem("token"),d(!1)}},"Log Out"):null),r.a.createElement(j.a,{color:"inherit",component:c.b,to:"/"},"Home"),r.a.createElement(j.a,{color:"inherit",component:c.b,to:"/portfolio"},"Portfolio"),r.a.createElement(j.a,{color:"inherit",component:c.b,to:"/about"},"About"),r.a.createElement(j.a,{color:"inherit",component:c.b,to:"/contact"},"Contact"))),r.a.createElement($.a,null)),r.a.createElement("div",null,r.a.createElement(Q.a,{open:l,onClose:f},r.a.createElement("div",{className:t.list,role:"presentation"},r.a.createElement(X.a,null,["Home","Portfolio","About","Contact"].map((function(e,t){return r.a.createElement(Z.a,{button:!0,onClick:f,component:c.b,to:"/".concat(e.toLowerCase()),key:e},r.a.createElement(ee.a,null,function(e){var t;switch(e){case"Home":t=r.a.createElement(ne.a,null);break;case"Portfolio":t=r.a.createElement(ue.a,null);break;case"About":t=r.a.createElement(oe.a,null);break;case"Contact":t=r.a.createElement(ce.a,null)}return t}(e)),r.a.createElement(te.a,{primary:e}))})))))))},de=a(363),fe=a(358),he=a(172),pe=a.n(he),Ee=a(357),ge=Object(k.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ve(e){var t=ge(),a=Object(n.useState)(""),o=Object(u.a)(a,2),l=o[0],c=o[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),d=m[0],f=m[1],h=Object(n.useContext)(S).writeToken;return r.a.createElement("div",null,r.a.createElement(Ee.a,{component:"main",maxWidth:"xs"},r.a.createElement(fe.a,null),r.a.createElement("div",{className:"".concat(t.paper)},r.a.createElement(de.a,{className:t.avatar},r.a.createElement(pe.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement(R.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:l,onChange:function(e){return c(e.target.value)}}),r.a.createElement(R.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:d,onChange:function(e){return f(e.target.value)}}),r.a.createElement(j.a,{fullWidth:!0,id:"submit",variant:"contained",color:"primary",className:t.submit,onClick:function(){fetch("".concat(s.uriBase).concat(s.authRoute,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:d})}).then((function(e){if(!e.ok)throw new Error("Login Failed");return e.json()})).then((function(t){""!==t?h(t):alert("Incorrect email and password!"),c(""),f(""),e.history.push("/admin")}))}},"Sign In"),r.a.createElement(j.a,{fullWidth:!0,id:"submit",variant:"contained",color:"secondary",className:t.submit,onClick:function(){var t=w.a.sign({user:"guest"},"key",{expiresIn:"1h"});h(t),e.history.push("/admin")}},"Explore the site as a guest"))))}var be=a(359),je=Object(k.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));var ye=function(e){var t=je(),a=Object(n.useState)(""),o=Object(u.a)(a,2),l=o[0],c=o[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),d=m[0],h=m[1],p=Object(n.useState)(""),E=Object(u.a)(p,2),g=E[0],v=E[1],b=Object(n.useState)(""),y=Object(u.a)(b,2),O=y[0],k=y[1],C=Object(n.useState)(""),w=Object(u.a)(C,2),T=w[0],B=w[1],L=Object(n.useContext)(f),P=L.images,N=L.projects,I=L.setProjects,A=Object(n.useContext)(S).token;return r.a.createElement("div",null,r.a.createElement(_.a,{elevation:3,style:{padding:16}},r.a.createElement("h3",null,"Create Project"),r.a.createElement("div",{className:t.root},r.a.createElement(R.a,{required:!0,label:"Title",id:"createTitle",value:l,onChange:function(e){return c(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(R.a,{required:!0,multiline:!0,label:"Text",id:"createText",value:d,onChange:function(e){return h(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(R.a,{label:"Live Link",id:"createLiveLink",value:g,onChange:function(e){return v(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(R.a,{label:"GitHub Links",id:"createGitHubLinks",multiline:!0,value:O,onChange:function(e){return k(e.target.value)},helperText:"multiple links seperated with commas"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(R.a,{select:!0,id:"createImgSelect",value:T,onChange:function(e,t){B(t.key)},helperText:"Please select an image"},P.map((function(e){return r.a.createElement(be.a,{key:e,value:e},e)})))),r.a.createElement("br",null),r.a.createElement(j.a,{variant:"contained",id:"createButton",color:"primary",onClick:function(e){e.preventDefault();var t={title:l,text:d,liveLink:g,gitHubLinks:O,imgSrc:T};fetch("".concat(s.uriBase).concat(s.projectsRoute),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(A)},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw new Error("Could not get projects");return e.json()})).then((function(e){if(console.log(e),void 0===e.message){var t=Object(x.a)(N);t.push(e),I(t),c(""),h(""),v(""),k(""),B("")}else alert(e.message)})).catch((function(e){alert(e)}))}},"Create!")))},Oe=a(348);var xe=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),o=a[0],l=a[1],c=Object(n.useContext)(S).token,i=Object(n.useContext)(f),m=i.images,d=i.setImages;return r.a.createElement("div",null,r.a.createElement(_.a,{elevation:3},r.a.createElement("div",{style:{margin:30}},r.a.createElement("h3",null,"Upload Image"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("file",o),t.append("filename",o.name),fetch("".concat(s.uriBase).concat(s.projectsRoute,"/img/upload"),{method:"POST",headers:{Authorization:"Bearer ".concat(c)},body:t}).then((function(e){if(!e.ok)throw new Error("Failed to upload file");return e.json()})).then((function(e){if(alert(e),"File Uploaded!"===e){var t=Object(x.a)(m);t.push(o.name),d(t)}l("")})).catch((function(e){alert(e)}))}},r.a.createElement(Oe.a,{type:"file",onChange:function(e){return l(e.target.files[0])},inputProps:{"aria-label":"description"}}),r.a.createElement(j.a,{type:"submit"},"Upload")))))},ke=Object(k.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},button:{float:"right"}}}));var Ce=function(e){var t=ke(),a=Object(n.useState)(""),o=Object(u.a)(a,2),l=o[0],c=o[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),d=m[0],h=m[1],p=Object(n.useState)(""),E=Object(u.a)(p,2),g=E[0],v=E[1],b=Object(n.useState)(""),y=Object(u.a)(b,2),O=y[0],k=y[1],C=Object(n.useState)(""),w=Object(u.a)(C,2),T=w[0],B=w[1],L=Object(n.useState)(""),P=Object(u.a)(L,2),N=P[0],I=P[1],A=Object(n.useState)({}),z=Object(u.a)(A,2),H=z[0],M=z[1],W=Object(n.useContext)(f),D=W.images,F=W.projects,G=W.setProjects,q=Object(n.useContext)(S).token,J=function(){c(""),h(""),v(""),k(""),B(""),I(""),M({})};return r.a.createElement("div",null,r.a.createElement(_.a,{elevation:3,style:{padding:16}},r.a.createElement("h3",null,"Edit Project"),r.a.createElement("div",{className:t.root},r.a.createElement(R.a,{select:!0,id:"editProjectSelect",value:l,onChange:function(e,t){var a=!0,n=!1,r=void 0;try{for(var o,l=F[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var i=o.value;i._id===t.key&&(c(t.key),h(i.title),v(i.text),k(i.liveLink),B(i.gitHubLinks),I(i.imgSrc),M(i))}}catch(u){n=!0,r=u}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}},helperText:"Please select a project"},F.map((function(e){return r.a.createElement(be.a,{id:e.title.split(" ")[0],key:e._id,value:e._id},e.title)}))),r.a.createElement("br",null),r.a.createElement(R.a,{required:!0,label:"Title",id:"editTitle",value:d,onChange:function(e){return h(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(R.a,{required:!0,multiline:!0,label:"Text",id:"editText",value:g,onChange:function(e){return v(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(R.a,{label:"Live Link",id:"editLiveLink",value:O,onChange:function(e){return k(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(R.a,{label:"GitHub Links",id:"editGitHubLinks",multiline:!0,value:T,onChange:function(e){return B(e.target.value)},helperText:"multiple links seperated with commas"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(R.a,{select:!0,id:"editImageSelect",value:N,onChange:function(e,t){I(t.key)},helperText:"Please select an image"},D.map((function(e){return r.a.createElement(be.a,{id:e,key:e,value:e},e)})))),r.a.createElement("br",null),r.a.createElement(j.a,{variant:"contained",id:"editButton",color:"primary",onClick:function(){if(""===l)alert("No project selected to edit."),J();else{var e={_id:l,title:d,text:g,liveLink:O,gitHubLinks:Array.isArray(T)?T:T.replace(/[\s\n]/g,"").split(","),imgSrc:N},t={};for(var a in H)"__v"!==a&&e[a]!==H[a]&&(t[a]=e[a]);fetch("".concat(s.uriBase).concat(s.projectsRoute,"/").concat(l),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(q)},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw new Error("Failed to patch");return e.json()})).then((function(e){if(console.log(e),void 0!==e.message)alert(e.message);else if(1===e.nModified){var a=Object(x.a)(F),n=!0,r=!1,o=void 0;try{for(var c,i=a[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var u=c.value;if(u._id===l)for(var s in t)u[s]=t[s]}}catch(m){r=!0,o=m}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}G(a),J()}else alert("Nothing changed")})).catch((function(e){console.log(e)}))}}},"Edit!"),r.a.createElement(j.a,{className:t.button,variant:"contained",color:"secondary",onClick:J},"Clear")))};var we=function(e){var t=Object(n.useContext)(f).texts,a=Object(n.useState)(""),o=Object(u.a)(a,2),l=o[0],c=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{select:!0,value:l,onChange:function(a,n){c(n.key);var r=function(e){var a={},n=!0,r=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var i=l.value;i.location===e&&(a.text=i.text,a.id=i._id)}}catch(u){r=!0,o=u}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}(n.key);e.setEditTextId(r.id),e.setEditText(r.text)},helperText:"Select a text."},t.map((function(e){return r.a.createElement(be.a,{id:e._id,key:e.location,value:e.location},e.location)}))))};var Se=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(""),i=Object(u.a)(c,2),m=i[0],d=i[1],h=Object(n.useContext)(S).token,p=Object(n.useContext)(f),E=p.texts,g=p.setTexts;return r.a.createElement("div",{style:{minWidth:300}},r.a.createElement(_.a,{elevation:3,style:{padding:16}},r.a.createElement("h3",null,"Edit Texts"),r.a.createElement(we,{setEditText:l,setEditTextId:d}),r.a.createElement("br",null),r.a.createElement(R.a,{required:!0,multiline:!0,label:"Text",value:o,fullWidth:!0,onChange:function(e){return l(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(j.a,{variant:"contained",color:"primary",onClick:function(){fetch("".concat(s.uriBase).concat(s.textsRoute,"/").concat(m),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(h)},body:JSON.stringify({text:o})}).then((function(e){if(!e.ok)throw new Error("Failed to patch");return e.json()})).then((function(e){if(console.log(e),void 0===e.message)if(1===e.nModified){var t=Object(x.a)(E),a=!0,n=!1,r=void 0;try{for(var l,c=t[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var i=l.value;i._id===m&&(i.text=o)}}catch(u){n=!0,r=u}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}g(t),alert("Changes Saved")}else alert("Nothing changed");else alert(e.message)}))}},"Save")))},Te=a(108),Be=a.n(Te),Le=a(173);var Pe=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)([]),i=Object(u.a)(c,2),m=i[0],d=i[1],f=Object(n.useContext)(S).token,h=function(){var e=Object(Le.a)(Be.a.mark((function e(t){var a;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.id,fetch("".concat(s.uriBase).concat(s.messagesRoute,"/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)}}).then((function(e){if(!e.ok)throw new Error("Could not delete message.");return e.json()})).then((function(e){if(1===e.deletedCount){var t,n=Object(x.a)(m),r=!0,o=!1,l=void 0;try{for(var c,i=n[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var u=c.value;u._id===a&&(t=n.indexOf(u))}}catch(s){o=!0,l=s}finally{try{r||null==i.return||i.return()}finally{if(o)throw l}}n.splice(t,1),d(n)}})).catch((function(e){alert(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(_.a,{elevation:3,style:{padding:16}},r.a.createElement("div",null,r.a.createElement("h2",null,"Messages")),r.a.createElement("div",null,o?r.a.createElement("div",null,r.a.createElement("ul",null,m.map((function(e){return r.a.createElement("li",{key:e._id},"".concat(new Date(e.date).toLocaleDateString(),"||").concat(e.email,"||").concat(e.name,"||").concat(e.message,"||").concat(e.app),r.a.createElement("button",{id:e._id,onClick:h},"DELETE"))})))):null),r.a.createElement("div",null,r.a.createElement(j.a,{onClick:function(){fetch("".concat(s.uriBase).concat(s.messagesRoute),{method:"GET",headers:{Authorization:"Bearer ".concat(f),"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Could not get messages");return e.json()})).then((function(e){void 0===e.message?(console.log(e),d(e),l(!0)):alert(e.message)})).catch((function(e){console.log(e)}))},variant:"contained",color:"primary"},"Show Messages"))))};var Ne=function(e){return r.a.createElement("div",null,r.a.createElement(p.a,{container:!0,direction:"column",spacing:3,justify:"space-evenly",alignItems:"center"},r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(xe,null)),r.a.createElement(p.a,{item:!0},r.a.createElement(p.a,{container:!0,spacing:3,justify:"space-evenly"},r.a.createElement(p.a,{item:!0},r.a.createElement(ye,null)),r.a.createElement(p.a,{item:!0},r.a.createElement(Ce,null)),r.a.createElement(p.a,{item:!0},r.a.createElement(Se,null)))),r.a.createElement(p.a,{item:!0},r.a.createElement(Pe,null))))},Ie=a(174);function _e(e){var t=e.component,a=Object(Ie.a)(e,["component"]);return r.a.createElement(B,null,(function(e){var n=e.loggedIn;return r.a.createElement(i.b,Object.assign({render:function(e){return n?r.a.createElement(t,e):r.a.createElement(i.a,{to:"/login"})}},a))}))}var Ae=Object(i.g)((function(e){var t=e.history;return Object(n.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[t]),null}));var Re=function(e){return r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement(Ae,null),r.a.createElement(T,null,r.a.createElement(h,null,r.a.createElement(me,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/portfolio",component:I}),r.a.createElement(i.b,{path:"/about",component:A}),r.a.createElement(i.b,{path:"/contact",component:z}),r.a.createElement(i.b,{path:"/login",component:ve}),r.a.createElement(_e,{path:"/admin",component:Ne}),r.a.createElement(i.b,{path:"/",component:N})),r.a.createElement(J,null)))))};var ze=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Re,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.0726f287.chunk.js.map